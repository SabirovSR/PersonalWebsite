# =============================================
# Environment Variables - sabirov.tech
# Production-Ready Configuration
# =============================================

# =============================================
# Environment Configuration
# =============================================
# Environments: production, development, staging
ENVIRONMENT=production
DEBUG=false

# =============================================
# API Security
# =============================================
PUBLIC_API_KEY=change-me-in-production

# =============================================
# CORS Configuration
# =============================================
# Comma-separated list of allowed origins
# Include your production domain, local development URLs
CORS_ORIGINS=https://sabirov.tech,https://web.sabirov.tech,http://localhost:3000,http://127.0.0.1:3000

# =============================================
# Kafka Configuration (External KRaft Cluster)
# =============================================
# Bootstrap servers for shared Kafka KRaft cluster (3 brokers)
KAFKA_BOOTSTRAP_SERVERS=kafka-controller-1:9092,kafka-controller-2:9092,kafka-controller-3:9092
KAFKA_TOPIC=sabirov-contact-requests
KAFKA_DLQ_TOPIC=sabirov-contact-dlq
KAFKA_CONSUMER_GROUP=contact-processor

# Optional: Kafka Cluster ID (if needed for manual topic creation)
# KAFKA_CLUSTER_ID=MkU3OEVBNTcwNTJENDM2Qk

# =============================================
# Database Configuration
# =============================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me-secure-postgres-password
POSTGRES_DB=contacts

# =============================================
# Redis Sentinel Configuration (External Cluster)
# =============================================
# External Redis Sentinel cluster from messaging network
# High Availability with automatic failover
REDIS_SENTINEL_HOSTS=redis-sentinel-1:26379,redis-sentinel-2:26379
REDIS_SENTINEL_MASTER=mymaster
REDIS_PASSWORD=redis_secure_password
REDIS_DB=0

# Advanced Redis settings (optional, sane defaults in config.py)
# REDIS_SOCKET_TIMEOUT=5.0
# REDIS_SOCKET_CONNECT_TIMEOUT=5.0

# =============================================
# Rate Limiting Configuration
# =============================================
# Maximum requests per window
RATE_LIMIT_REQUESTS=5
# Window duration in seconds (3600 = 1 hour)
RATE_LIMIT_WINDOW_SECONDS=3600

# =============================================
# Telegram Bot Configuration
# =============================================
# Get token from @BotFather
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Get your ID from @userinfobot
TELEGRAM_OWNER_ID=123456789

# Webhook configuration (for production)
# Base URL where your API is hosted
TELEGRAM_WEBHOOK_URL=https://api.sabirov.tech

# Secret token for webhook security (generate random string)
# Use: openssl rand -base64 32
TELEGRAM_WEBHOOK_SECRET=change-me-to-random-secret-string

# =============================================
# Domain Configuration
# =============================================
API_DOMAIN=api.sabirov.tech
SITE_DOMAIN=web.sabirov.tech

# =============================================
# Service Ports (for local development)
# =============================================
BACKEND_PORT=8000
FRONTEND_PORT=3000

# =============================================
# Docker Image Configuration (if pulling from registry)
# =============================================
# BACKEND_IMAGE=ghcr.io/sabirovsr/sabirov-backend:latest
# FRONTEND_IMAGE=ghcr.io/sabirovsr/sabirov-frontend:latest

# =============================================
# Additional Settings
# =============================================
# Node environment for frontend
NODE_ENV=production
